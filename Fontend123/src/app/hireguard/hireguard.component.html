<!-- แสดง Guard Cards -->
<div class="card-container" *ngIf="guards.length > 0">
  <div class="card" *ngFor="let guard of guards">
    <img [src]="guard.image_url || 'assets/default-guard.png'" alt="Guard Image" class="card-image">
    <div class="guard-card">
      <h3>{{ guard.name }}</h3>
      <p>ID: {{ guard.guard_id || guard.id }}</p>
      <p>Age: {{ guard.age }}</p>
      <p>Gender: {{ guard.gender }}</p>
      <p>Skills: {{ guard.skills }}</p>
      <p>Price per day: {{ guard.price }}</p>
      <button (click)="openHireForm(guard)">Hire</button>
    </div>
  </div>
</div>

<!-- Modal สำหรับจ้าง Guard -->
<div class="modal-overlay" *ngIf="selectedGuard">
  <div class="modal">
    <div class="modal-header">
      <h2>Hire {{ selectedGuard.name }}</h2>
      <button class="close-btn" (click)="cancelHire()">✖</button>
    </div>

    <div class="modal-body">
      <label>Start Date:</label>
<input type="date" [(ngModel)]="hireData.start_date" (change)="calculateTotalPrice()" required>

<label>End Date:</label>
<input type="date" [(ngModel)]="hireData.end_date" (change)="calculateTotalPrice()" required>

      <p><strong>Total Days:</strong> {{ totalDays }} days</p>
      <p class="total-price"><strong>Total Price:</strong> {{ totalPrice | number:'1.2-2' }}</p>
    </div>

    <div class="modal-footer">
      <button class="btn btn-success" (click)="submitHireRequest()">Hire</button>
    </div>

    <p *ngIf="hireMessage" class="success">{{ hireMessage }}</p>
  </div>
</div>